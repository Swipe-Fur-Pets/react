{"ast":null,"code":"var _jsxFileName = \"/Users/liu550/Desktop/swipe_fur_pets/src/components/message.js\";\nimport React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Button, Modal, CardDeck, Image, Container } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./components.css\";\nimport { Helmet } from \"react-helmet\";\nimport { Rnd } from \"react-rnd\";\nimport $ from \"jquery\"; //images\n\nimport german_sheperd from \"../images/gs.jpeg\";\nimport bulldog from \"../images/bd.jpeg\";\nimport rc from \"../images/rc.jpg\";\nimport edit from \"../img/edit.svg\";\nimport logo from \"../img/active-pets.svg\";\nimport chat from \"../img/chat.svg\";\nimport close from \"../img/close.svg\";\nimport tick from \"../img/tick.svg\";\nimport './css/main.css';\nimport { Client } from \"@petfinder/petfinder-js\";\n\nclass Message extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chats: [],\n      message: \"\",\n      chat: \"\"\n    };\n\n    this.updateState = json => {\n      this.setState({\n        chats: json.chats\n      });\n    };\n\n    this.renderChat = chat => {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.setChat(chat),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        class: \"list-group-item list-group-item-action list-group-item-light rounded-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\",\n        alt: \"user\",\n        width: \"50\",\n        class: \"rounded-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 38\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media-body ml-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"d-flex align-items-center justify-content-between mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        class: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }, \"Jason Doe\"), /*#__PURE__*/React.createElement(\"small\", {\n        class: \"small font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 56\n        }\n      }, \"14 Dec\")), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"font-italic text-muted mb-0 text-small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 23\n        }\n      }, \"Lorem ipsum dolor sit amet, consectetur. incididunt ut labore.\")))));\n    };\n\n    this.setChat = (e, chat) => {\n      e.preventDefault();\n      this.setState({\n        chat: chat\n      });\n    };\n\n    this.renderMessage = message => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media w-50 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"profile.html\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 38\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\",\n        alt: \"user\",\n        width: \"50\",\n        class: \"rounded-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 61\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"media-body ml-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"bg-light rounded py-2 px-3 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        class: \"text-small mb-0 text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, \"Test which is a new approach all solutions\")), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"small text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, \"12:00 PM | Aug 13\")));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const date = new Date();\n      const dateString = date.toDateString();\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", \"http://localhost:8080/Backend2/Message?user=\" + localStorage.getItem(\"email\") + \"&mid=\" + this.state.chat.id + \"&content=\" + this.state.message + \"&date=\" + this.state.dateString);\n      xhr.send();\n    };\n  }\n\n  componentDidMount() {\n    setInterval(() => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", \"http://localhost:8080/Backend2?mid=\" + this.state.message + \"&user=\" + localStorage.getItem(\"email\"));\n      xhr.send();\n\n      xhr.onload = () => {\n        const json = JSON.parse(xhr.response);\n        this.updateState(json);\n      };\n    }, 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"body\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      class: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-lg navbar-light py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, \"\\\\\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"main.html\",\n      class: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"img/pets.svg\",\n      alt: \"logo\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"chat.html\",\n      class: \"navbar-brand\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"img/active-chat.svg\",\n      alt: \"msg\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"edit.html\",\n      class: \"navbar-brand\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"img/edit.svg\",\n      alt: \"edit\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"chat.html\",\n      class: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"img/pets.svg\",\n      alt: \"logo\",\n      width: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container py-5 px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row rounded-lg overflow-hidden shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-5 px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bg-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"messages-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"list-group rounded-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"list-group-item list-group-item-action active text-white rounded-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"media\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\",\n      alt: \"user\",\n      width: \"50\",\n      class: \"rounded-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 40\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"media-body ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"d-flex align-items-center justify-content-between mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      class: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      class: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 27\n      }\n    }, \"Jason Doe\"), /*#__PURE__*/React.createElement(\"small\", {\n      class: \"small font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 58\n      }\n    }, \"25 Dec\")), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"font-italic mb-0 text-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore.\")))), this.state.chats && this.state.chats.map(chat => {\n      return this.state.renderChat(chat);\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-7 px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"px-4 py-5 chat-box bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, this.chat.history && this.chat.history.map(message => {\n      return this.renderMessage(message);\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      id: \"message\",\n      name: \"msg\",\n      type: \"text\",\n      placeholder: \"Type a message\",\n      \"aria-describedby\": \"button-addon2\",\n      class: \"form-control rounded-0 border-0 py-4 bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"button-addon2\",\n      type: \"submit\",\n      class: \"btn btn-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-paper-plane\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 82\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: \"display:none;\",\n      class: \"checkMsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    })))))));\n  }\n\n}\n\nexport default withRouter(Message);","map":{"version":3,"sources":["/Users/liu550/Desktop/swipe_fur_pets/src/components/message.js"],"names":["React","Component","Redirect","withRouter","connect","Button","Modal","CardDeck","Image","Container","Helmet","Rnd","$","german_sheperd","bulldog","rc","Client","Message","state","chats","message","chat","updateState","json","setState","renderChat","setChat","e","preventDefault","renderMessage","handleChange","target","id","value","handleSubmit","date","Date","dateString","toDateString","xhr","XMLHttpRequest","open","localStorage","getItem","send","componentDidMount","setInterval","onload","JSON","parse","response","render","map","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Button, Modal, CardDeck, Image, Container } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./components.css\";\nimport {Helmet} from \"react-helmet\";\nimport { Rnd } from \"react-rnd\";\nimport $ from \"jquery\";\n//images\nimport german_sheperd from \"../images/gs.jpeg\";\nimport bulldog from \"../images/bd.jpeg\";\nimport rc from \"../images/rc.jpg\";\n\nimport edit from '../img/edit.svg';\nimport logo from '../img/active-pets.svg';\nimport chat from '../img/chat.svg';\nimport close from '../img/close.svg';\nimport tick from '../img/tick.svg';\nimport './css/main.css';\n\n\n\nimport { Client } from \"@petfinder/petfinder-js\";\n\n\n\n\nclass Message extends Component {\n\n  state = {\n    chats: [],\n    message: \"\",\n    chat: \"\",\n  }\n\n  componentDidMount() {\n      setInterval(() => {\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", \"http://localhost:8080/Backend2?mid=\" + this.state.message + \"&user=\" + localStorage.getItem(\"email\"));\n        xhr.send();\n        xhr.onload = () => {\n          const json = JSON.parse(xhr.response);\n          this.updateState(json);\n        }\n      }, 1000);\n  }\n\n  updateState = (json) => {\n    this.setState({\n        chats: json.chats\n    })\n  }\n\n  renderChat = (chat) => {\n      return (\n        <button onClick={this.setChat(chat)}>\n        <a href=\"#\" class=\"list-group-item list-group-item-action list-group-item-light rounded-0\">\n                  <div class=\"media\"><img src=\"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\" alt=\"user\" width=\"50\" class=\"rounded-circle\"></img>\n                    <div class=\"media-body ml-4\">\n                      <div class=\"d-flex align-items-center justify-content-between mb-1\">\n                        <h6 class=\"mb-0\">Jason Doe</h6><small class=\"small font-weight-bold\">14 Dec</small>\n                      </div>\n                      <p class=\"font-italic text-muted mb-0 text-small\">Lorem ipsum dolor sit amet, consectetur. incididunt ut labore.</p>\n                    </div>\n                  </div>\n                </a>\n    </button>\n      );\n  \n  }\n\n  setChat = (e, chat) => {\n      e.preventDefault();\n      this.setState({\n          chat: chat\n      })\n  }\n\n  renderMessage = (message) => {\n      return (\n        <div class=\"media w-50 mb-3\"><a href=\"profile.html\"><img src=\"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\" alt=\"user\" width=\"50\" class=\"rounded-circle\"></img></a>\n        <div class=\"media-body ml-3\">\n          <div class=\"bg-light rounded py-2 px-3 mb-2\">\n            <p class=\"text-small mb-0 text-muted\">Test which is a new approach all solutions</p>\n          </div>\n          <p class=\"small text-muted\">12:00 PM | Aug 13</p>\n        </div>\n      </div>\n      )\n  } \n\n  handleChange = (e) => {\n    this.setState({\n        [e.target.id]: e.target.value\n    })\n}\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const date = new Date();\n        const dateString = date.toDateString();\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", \"http://localhost:8080/Backend2/Message?user=\" + localStorage.getItem(\"email\") + \"&mid=\" + this.state.chat.id + \"&content=\" + this.state.message + \"&date=\" + this.state.dateString);\n        xhr.send();\n    }\n  \n\n\n  render() {\n\n    return (\n    <body>\n   \n    <header class=\"header\">\n        <nav class=\"navbar navbar-expand-lg navbar-light py-3\">\n        <div class=\"container\">\n  \\\n            <a href=\"main.html\" class=\"navbar-brand\">\n            <img src=\"img/pets.svg\" alt=\"logo\" width=\"50\"></img>\n            </a>\n            <a href=\"chat.html\" class=\"navbar-brand\" width=\"50\"><img src=\"img/active-chat.svg\" alt=\"msg\" width=\"50\"></img></a>\n\n            <a href=\"edit.html\" class=\"navbar-brand\" width=\"50\"><img src=\"img/edit.svg\" alt=\"edit\" width=\"50\"></img></a>\n\n   \n            <a href=\"chat.html\" class=\"navbar-brand\">\n            <img src=\"img/pets.svg\" alt=\"logo\" width=\"50\"></img>\n            </a>\n        </div>\n        </nav>\n    </header>\n  \n  \n    <div class=\"container py-5 px-4\">\n      \n        <div class=\"row rounded-lg overflow-hidden shadow\">\n\n          <div class=\"col-5 px-0\">\n            <div class=\"bg-black\">\n      \n            \n              <div class=\"messages-box\">\n                <div class=\"list-group rounded-0\">\n                  <a class=\"list-group-item list-group-item-action active text-white rounded-0\">\n                    \n                    \n                    <div class=\"media\"><img src=\"https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg\" alt=\"user\" width=\"50\" class=\"rounded-circle\"></img>\n                      <div class=\"media-body ml-4\">\n                        <div class=\"d-flex align-items-center justify-content-between mb-1\">\n                          <h6 class=\"mb-0\"></h6>\n\n                          <h6 class=\"mb-0\">Jason Doe</h6><small class=\"small font-weight-bold\">25 Dec</small>\n                        </div>\n                        \n                        <p class=\"font-italic mb-0 text-small\">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore.</p>\n                      </div>\n                    </div>\n                  </a>\n      \n                  {this.state.chats && this.state.chats.map((chat) => {\n                      return this.state.renderChat(chat);\n                  })}\n      \n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          <div class=\"col-7 px-0\">\n            <div class=\"px-4 py-5 chat-box bg-white\">\n         \n              {this.chat.history && this.chat.history.map((message) => {\n                  return this.renderMessage(message);\n              })}\n      \n            </div>\n      \n           \n            <form onSubmit={this.handleSubmit}>\n              <div class=\"input-group\">\n                <input onChange={this.handleChange} id=\"message\" name=\"msg\" type=\"text\" placeholder=\"Type a message\" aria-describedby=\"button-addon2\" class=\"form-control rounded-0 border-0 py-4 bg-light\"></input>\n                <div class=\"input-group-append\">\n                  <button id=\"button-addon2\" type=\"submit\" class=\"btn btn-link\"> <i class=\"fa fa-paper-plane\"></i></button>\n                </div>\n                <div style=\"display:none;\" class=\"checkMsg\"></div> \n              </div>\n            </form>\n      \n          </div>\n        </div>\n      </div>\n \n\n</body>\n\n    );\n  }\n}\n\nexport default withRouter(Message);"]},"metadata":{},"sourceType":"module"}